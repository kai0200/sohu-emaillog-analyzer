调用顺序

- 250送达 → SPF错误 → HELO错误 → 无相关日志
- 这样可避免“无相关日志”抢先命中而屏蔽更具体的结论（如 SPF、HELO）
运行示例

- 无相关日志：
  - python3 analyze_logs.py --log samples/case1.txt --sender '@twitter.com' --recipient 'tianjiazhou@sohu.com'
- 250送达：
  - python3 analyze_logs.py --log samples/case2.txt --sender acxzy@sohu.com --recipient Ylinda@vtb.ru
  - python3 analyze_logs.py --log samples/case6.txt --sender lu_184@sohu.com --recipient gscc@substack.com
- SPF错误：
  - python3 analyze_logs.py --log samples/case3.txt --sender gulw@ydamc.com --recipient 18655335713@sohu.com
- HELO错误：
  - python3 analyze_logs.py --log samples/case4.txt --sender puxiaolu@foton.com.cn --recipient lu_184@sohu.com


文件位置

- 模块文件： checks/*.py
- 主程序： analyze_logs.py
- 示例日志： samples/case*.txt
扩展建议

- 为每个模块提供统一接口 run(text, sender, recipient) -> bool （已实现），后续新增检查只需添加新文件并在主程序中引入
- 若后续检查共享工具函数，可再抽取 checks/common.py 以减少重复逻辑


单元测试

- (TraeAI-3) ~/Documents/sohu-emaillog-analyzer [5]

$ python3 -m unittest discover -s tests -p "test*.py" -q

helo=<mailgwin.foton.com.cn>
发件人：puxiaolu@foton.com.cn
处理建议：请联系运维工程师增加helo白名单
无相关日志，联系发件人确认
发信时间：Nov 12 16:51:12
发件人：gscc@substack.com
收件人：lu_184@sohu.com
status：250 2.0.0 OK
发件人：gulw@ydamc.com
结果：SPF错误
